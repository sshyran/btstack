<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1841" height="693" contentScriptType="application/ecmascript" contentStyleType="text/css" preserveAspectRatio="none" style="width:1841px;height:693px" version="1.1" viewBox="0 0 1841 693" zoomAndPan="magnify"><defs><filter id="f14als4nudxgwt" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text x="726.5" y="26.708" fill="#000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="386">Mandatory Authentication in Central Role</text><ellipse cx="821.563" cy="40.953" fill="#000" filter="url(#f14als4nudxgwt)" rx="10" ry="10" style="stroke:none;stroke-width:1"/><rect width="385" height="33.969" x="629.063" y="70.953" fill="#FEFECE" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="643.063" y="92.092" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="361">App calls gatt_client_set_required_security_level (level &gt; 0)</text><rect width="166" height="33.969" x="738.563" y="124.922" fill="#FEFECE" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="752.563" y="146.06" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="142">App on A connects to B</text><rect width="254" height="33.969" x="694.563" y="178.891" fill="#FEFECE" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="708.563" y="200.029" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="230">App on A triggers GATT Client request</text><rect width="173" height="33.969" x="735.063" y="232.859" fill="#FEFECE" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="749.063" y="253.998" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149">GATT Client request sent</text><polygon fill="#FEFECE" points="780.563 286.828 862.563 286.828 874.563 298.828 862.563 310.828 780.563 310.828 768.563 298.828 780.563 286.828" filter="url(#f14als4nudxgwt)" style="stroke:#a80036;stroke-width:1.5"/><text x="780.563" y="302.636" fill="#000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82">LTK available?</text><text x="747.563" y="296.234" fill="#000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21">yes</text><text x="874.563" y="296.234" fill="#000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14">no</text><rect width="235" height="33.969" x="282.5" y="320.828" fill="#FEFECE" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="296.5" y="341.967" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="211">SM_EVENT_REENCRYPTION_STARTED</text><rect width="119" height="33.969" x="340.5" y="374.797" fill="#FEFECE" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="354.5" y="395.935" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95">start encryption</text><polygon fill="#FEFECE" points="363 428.766 437 428.766 449 440.766 437 452.766 363 452.766 351 440.766 363 428.766" filter="url(#f14als4nudxgwt)" style="stroke:#a80036;stroke-width:1.5"/><text x="363" y="444.574" fill="#000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74">re-encrypted</text><text x="330" y="438.171" fill="#000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21">yes</text><text x="449" y="438.171" fill="#000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14">no</text><rect width="393" height="33.969" x="11" y="462.766" fill="#FEFECE" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="25" y="483.904" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="369">SM_EVENT_REENCRYPTION_COMPLETE(ERROR_CODE_SUCCESS)</text><rect width="173" height="33.969" x="121" y="516.734" fill="#FEFECE" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="135" y="537.873" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149">GATT Client request sent</text><rect width="204" height="33.969" x="105.5" y="585.703" fill="#23DB2B" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="119.5" y="606.842" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180">App receives GATT Response</text><ellipse cx="207.5" cy="665.672" fill="#FFF" filter="url(#f14als4nudxgwt)" rx="11" ry="11" style="stroke:#000;stroke-width:1"/><ellipse cx="207.5" cy="665.672" fill="#000" rx="6" ry="6" style="stroke:#7f7f7f;stroke-width:1"/><rect width="284" height="33.969" x="450.5" y="462.766" fill="#FEFECE" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="464.5" y="483.904" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="260">SM_EVENT_REENCRYPTION_COMPLETE(error)</text><rect width="337" height="47.938" x="424" y="516.734" fill="#FD5B41" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="438" y="537.873" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="267">App receives GATT_QUERY_COMPLETE event</text><text x="454" y="551.842" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="297">with ATT_ERROR_BONDING_INFORMATION_MISSING</text><ellipse cx="592.5" cy="610.672" fill="#FFF" filter="url(#f14als4nudxgwt)" rx="11" ry="11" style="stroke:#000;stroke-width:1"/><ellipse cx="592.5" cy="610.672" fill="#000" rx="6" ry="6" style="stroke:#7f7f7f;stroke-width:1"/><rect width="194" height="33.969" x="1146.125" y="320.828" fill="#FEFECE" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="1160.125" y="341.967" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="170">SM_EVENT_PAIRING_STARTED</text><rect width="96" height="33.969" x="1195.125" y="374.797" fill="#FEFECE" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="1209.125" y="395.935" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72">start pairing</text><polygon fill="#FEFECE" points="1196.625 428.766 1289.625 428.766 1301.625 440.766 1289.625 452.766 1196.625 452.766 1184.625 440.766 1196.625 428.766" filter="url(#f14als4nudxgwt)" style="stroke:#a80036;stroke-width:1.5"/><text x="1196.625" y="444.574" fill="#000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93">pairing success?</text><text x="1163.625" y="438.171" fill="#000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21">yes</text><text x="1301.625" y="438.171" fill="#000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14">no</text><rect width="352" height="33.969" x="801" y="462.766" fill="#FEFECE" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="815" y="483.904" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="328">SM_EVENT_PAIRING_COMPLETE(ERROR_CODE_SUCCESS)</text><rect width="173" height="33.969" x="890.5" y="516.734" fill="#FEFECE" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="904.5" y="537.873" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149">GATT Client request sent</text><rect width="204" height="33.969" x="875" y="585.703" fill="#23DB2B" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="889" y="606.842" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180">App receives GATT Response</text><ellipse cx="977" cy="665.672" fill="#FFF" filter="url(#f14als4nudxgwt)" rx="11" ry="11" style="stroke:#000;stroke-width:1"/><ellipse cx="977" cy="665.672" fill="#000" rx="6" ry="6" style="stroke:#7f7f7f;stroke-width:1"/><rect width="243" height="33.969" x="1387.75" y="462.766" fill="#FEFECE" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="1401.75" y="483.904" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="219">SM_EVENT_PAIRING_COMPLETE(error)</text><polygon fill="#FEFECE" points="1478.25 516.734 1540.25 516.734 1552.25 528.734 1540.25 540.734 1478.25 540.734 1466.25 528.734 1478.25 516.734" filter="url(#f14als4nudxgwt)" style="stroke:#a80036;stroke-width:1.5"/><text x="1478.25" y="532.543" fill="#000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62">level &gt;= 3</text><text x="1445.25" y="526.14" fill="#000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21">yes</text><text x="1552.25" y="526.14" fill="#000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14">no</text><rect width="322" height="47.938" x="1183" y="550.734" fill="#FD5B41" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="1197" y="571.873" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="267">App receives GATT_QUERY_COMPLETE event</text><text x="1209" y="585.842" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="286">with ATT_ERROR_INSUFFICIENT_AUTHENTICATION</text><ellipse cx="1344" cy="644.672" fill="#FFF" filter="url(#f14als4nudxgwt)" rx="11" ry="11" style="stroke:#000;stroke-width:1"/><ellipse cx="1344" cy="644.672" fill="#000" rx="6" ry="6" style="stroke:#7f7f7f;stroke-width:1"/><rect width="299" height="47.938" x="1525" y="550.734" fill="#FD5B41" filter="url(#f14als4nudxgwt)" rx="12.5" ry="12.5" style="stroke:#a80036;stroke-width:1.5"/><text x="1539" y="571.873" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="267">App receives GATT_QUERY_COMPLETE event</text><text x="1551" y="585.842" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="259">with ATT_ERROR_INSUFFICIENT_ENCRYPTION;</text><ellipse cx="1674.5" cy="644.672" fill="#FFF" filter="url(#f14als4nudxgwt)" rx="11" ry="11" style="stroke:#000;stroke-width:1"/><ellipse cx="1674.5" cy="644.672" fill="#000" rx="6" ry="6" style="stroke:#7f7f7f;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="821.563" x2="821.563" y1="50.953" y2="70.953"/><polygon fill="#A80036" points="817.563 60.953 821.563 70.953 825.563 60.953 821.563 64.953" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="821.563" x2="821.563" y1="104.922" y2="124.922"/><polygon fill="#A80036" points="817.563 114.922 821.563 124.922 825.563 114.922 821.563 118.922" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="821.563" x2="821.563" y1="158.891" y2="178.891"/><polygon fill="#A80036" points="817.563 168.891 821.563 178.891 825.563 168.891 821.563 172.891" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="821.563" x2="821.563" y1="212.859" y2="232.859"/><polygon fill="#A80036" points="817.563 222.859 821.563 232.859 825.563 222.859 821.563 226.859" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="400" x2="400" y1="354.797" y2="374.797"/><polygon fill="#A80036" points="396 364.797 400 374.797 404 364.797 400 368.797" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="207.5" x2="207.5" y1="496.734" y2="516.734"/><polygon fill="#A80036" points="203.5 506.734 207.5 516.734 211.5 506.734 207.5 510.734" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="207.5" x2="207.5" y1="550.703" y2="585.703"/><polygon fill="#A80036" points="203.5 575.703 207.5 585.703 211.5 575.703 207.5 579.703" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="207.5" x2="207.5" y1="619.672" y2="654.672"/><polygon fill="#A80036" points="203.5 644.672 207.5 654.672 211.5 644.672 207.5 648.672" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="592.5" x2="592.5" y1="496.734" y2="516.734"/><polygon fill="#A80036" points="588.5 506.734 592.5 516.734 596.5 506.734 592.5 510.734" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="592.5" x2="592.5" y1="564.672" y2="599.672"/><polygon fill="#A80036" points="588.5 589.672 592.5 599.672 596.5 589.672 592.5 593.672" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="351" x2="207.5" y1="440.766" y2="440.766"/><line style="stroke:#a80036;stroke-width:1.5" x1="207.5" x2="207.5" y1="440.766" y2="462.766"/><polygon fill="#A80036" points="203.5 452.766 207.5 462.766 211.5 452.766 207.5 456.766" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="449" x2="592.5" y1="440.766" y2="440.766"/><line style="stroke:#a80036;stroke-width:1.5" x1="592.5" x2="592.5" y1="440.766" y2="462.766"/><polygon fill="#A80036" points="588.5 452.766 592.5 462.766 596.5 452.766 592.5 456.766" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="400" x2="400" y1="408.766" y2="428.766"/><polygon fill="#A80036" points="396 418.766 400 428.766 404 418.766 400 422.766" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="1243.125" x2="1243.125" y1="354.797" y2="374.797"/><polygon fill="#A80036" points="1239.125 364.797 1243.125 374.797 1247.125 364.797 1243.125 368.797" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="977" x2="977" y1="496.734" y2="516.734"/><polygon fill="#A80036" points="973 506.734 977 516.734 981 506.734 977 510.734" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="977" x2="977" y1="550.703" y2="585.703"/><polygon fill="#A80036" points="973 575.703 977 585.703 981 575.703 977 579.703" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="977" x2="977" y1="619.672" y2="654.672"/><polygon fill="#A80036" points="973 644.672 977 654.672 981 644.672 977 648.672" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="1344" x2="1344" y1="598.672" y2="633.672"/><polygon fill="#A80036" points="1340 623.672 1344 633.672 1348 623.672 1344 627.672" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="1674.5" x2="1674.5" y1="598.672" y2="633.672"/><polygon fill="#A80036" points="1670.5 623.672 1674.5 633.672 1678.5 623.672 1674.5 627.672" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="1466.25" x2="1344" y1="528.734" y2="528.734"/><line style="stroke:#a80036;stroke-width:1.5" x1="1344" x2="1344" y1="528.734" y2="550.734"/><polygon fill="#A80036" points="1340 540.734 1344 550.734 1348 540.734 1344 544.734" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="1552.25" x2="1674.5" y1="528.734" y2="528.734"/><line style="stroke:#a80036;stroke-width:1.5" x1="1674.5" x2="1674.5" y1="528.734" y2="550.734"/><polygon fill="#A80036" points="1670.5 540.734 1674.5 550.734 1678.5 540.734 1674.5 544.734" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="1509.25" x2="1509.25" y1="496.734" y2="516.734"/><polygon fill="#A80036" points="1505.25 506.734 1509.25 516.734 1513.25 506.734 1509.25 510.734" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="1184.625" x2="977" y1="440.766" y2="440.766"/><line style="stroke:#a80036;stroke-width:1.5" x1="977" x2="977" y1="440.766" y2="462.766"/><polygon fill="#A80036" points="973 452.766 977 462.766 981 452.766 977 456.766" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="1301.625" x2="1509.25" y1="440.766" y2="440.766"/><line style="stroke:#a80036;stroke-width:1.5" x1="1509.25" x2="1509.25" y1="440.766" y2="462.766"/><polygon fill="#A80036" points="1505.25 452.766 1509.25 462.766 1513.25 452.766 1509.25 456.766" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="1243.125" x2="1243.125" y1="408.766" y2="428.766"/><polygon fill="#A80036" points="1239.125 418.766 1243.125 428.766 1247.125 418.766 1243.125 422.766" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="768.563" x2="400" y1="298.828" y2="298.828"/><line style="stroke:#a80036;stroke-width:1.5" x1="400" x2="400" y1="298.828" y2="320.828"/><polygon fill="#A80036" points="396 310.828 400 320.828 404 310.828 400 314.828" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="874.563" x2="1243.125" y1="298.828" y2="298.828"/><line style="stroke:#a80036;stroke-width:1.5" x1="1243.125" x2="1243.125" y1="298.828" y2="320.828"/><polygon fill="#A80036" points="1239.125 310.828 1243.125 320.828 1247.125 310.828 1243.125 314.828" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1.5" x1="821.563" x2="821.563" y1="266.828" y2="286.828"/><polygon fill="#A80036" points="817.563 276.828 821.563 286.828 825.563 276.828 821.563 280.828" style="stroke:#a80036;stroke-width:1"/></g></svg>